
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="CalandarPro.css" rel="stylesheet">
     
  <link href="Header.css" rel="stylesheet">
  <link href="Viizeo.css" rel="stylesheet">
  <!-- https://fonts.googleapis.com/css?family=Roboto:400,500,700 -->

    <link href="/static/calibri.zip" rel="stylesheet">
    <link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.print.css' rel='stylesheet' media='print' />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700" rel="stylesheet">
    <link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.print.css' rel='stylesheet' media='print' />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">   
    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />
    <meta name="apple-mobile-web-app-title" content="CodePen">
    <link rel="shortcut icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />
    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg" color="#111" />
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.css'>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.42/css/bootstrap-datetimepicker.min.css'>
    
    <title>CalandarPro</title>
</head>


	
<header>
	
<nav class="navbar " >
    <div class="ContentLogo">
        <a href="./CalandarPro.html"><img  src="img/AVEON.gif" class="logo" alt="Logo Aveon" ></a>
        <!-- NAVIGATION MENU -->
    </div>
        <ul class="nav-links" id="nav-links">
          <!-- USING CHECKBOX HACK -->
          <input type="checkbox" id="checkbox_toggle" />
          <label for="checkbox_toggle" class="hamburger">&#9776;</label>
          <!-- NAVIGATION MENUS -->
          <div class="menu ">
            
            
             
            <li><a href="./CalandarPro.html" class="LienScript"  >Calendrier</a></li>
            <li><a href="./Sport.html" class="LienScript"  >Tous les sports</a></li>
            
          </div>
        </ul>
  
      </nav>
  
     
          
    <script>
      console.log(sessionStorage.getItem('sessionLogin'));
      $(document).ready(function() {
   $(".bttnclick").on("click", function() {
      $(".NavbarDropDesktop").css("display", "flex");
      $(".NavbarDropDesktop").css("box-shadow", "0 5px 10px var(--Shadow)");
     $(".navbar").css("background-color", "var(--blanc)");
     $(".LienScript").css("color", "var(--noir)");
     $(".hamburger").css("color", "var(--noir)");
     $(".logo").css("content", "url('https://dev.viizeo.com/wp-content/uploads/2022/09/ViiZEO-V3.png')");
  
    });
  });
       
  
      </script>
      
          
    </nav>
  
  
  
  


	
    <div class="ContentHeader">
        
       
        </div>
        <div class="ContentTitreHeader">
            <h1 class="TitreHeader" >
                Aνεση
    
            </h1>
        </div>


        
<div class="waveWrapper waveAnimation">
    
    
  <div class="bgBottom">
    <div class="wave waveBottom" style="background-image: url('https://dev.viizeo.com/wp-content/uploads/2022/09/Vague4.png')"></div>
  </div>

</div>
     
     
     
     
</header>




</section>

<section class="ContentSoustitre">


    <h2 class="SousTitreHeader">Aνεση <br> <br> Construire <br> votre stratégie <br> confort en entreprise.</h2>

</section>
    
<section class="CalandarPro">


    
    <div class="row">

        <script>
          ! function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (!d.getElementById(id)) {
              js = d.createElement(s);
              js.id = id;
              js.src = 'https://weatherwidget.io/js/widget.min.js';
              fjs.parentNode.insertBefore(js, fjs);
            }
          }(document, 'script', 'weatherwidget-io-js');
        </script>
      
      
        <div id="contextMenu" class="dropdown clearfix">
      
        </div>
      
        <div class="form-group">
          <label for="calendar_view">View Mode</label>
          <select class="form-control" id="calendar_view">
            <option value="agendaWeek">Week</option>
            <option value="month">Month</option>
            <option value="agendaDay">Day</option>
            <option value="listWeek">Event List</option>
          </select>
        </div>
      
        <div class="panel panel-default hidden-print">
          <div class="panel-heading">
            <h3 class="panel-title">Filter Calendar (Users, Calendar and Eventy Type)</h3>
          </div>
          <div class="panel-body">
      
            <div class="col-lg-12">
      
              <label for="calendar_view">Filter Calendars</label>
              <div class="input-group">
                <label class="checkbox-inline"><input class='filter' type="checkbox" value="Boot Camps" checked>Boot Camps</label>
                <label class="checkbox-inline"><input class='filter' type="checkbox" value="Drop-in - Open Studio" checked>Drop-in - Open Studio</label>
                <label class="checkbox-inline"><input class='filter' type="checkbox" value="Yoga & Pilates" checked>Yoga & Pilates</label>
              </div>
            </div>
      
          </div>
        </div>
      
        <div id="wrapper">
          <div id="loading"></div>
          <div class="print-visible" id="calendar"></div>
        </div>
      
        <!-- ADD EVENT MODAL -->
      
        <div class="modal fade" tabindex="-1" role="dialog" id="newEventModal">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Create new <span class="eventType"></span></h4>
              </div>
              <div class="modal-body">
      
                <div class="row">
                  <div class="col-xs-12">
                    <label class="col-xs-4" for="title">All Day Event ?</label>
                    <input class='allDayNewEvent' type="checkbox"></label>
                  </div>
                </div>
      
                <div class="row">
                  <div class="col-xs-12">
                    <label class="col-xs-4" for="title">Event title</label>
                    <input class="inputModal" type="text" name="title" id="title" />
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-12">
                    <label class="col-xs-4" for="starts-at">Starts at</label>
                    <input class="inputModal" type="text" name="starts_at" id="starts-at" />
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-12">
                    <label class="col-xs-4" for="ends-at">Ends at</label>
                    <input class="inputModal" type="text" name="ends_at" id="ends-at" />
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-12">
                    <label class="col-xs-4" for="add-event-desc">Description</label>
                    <textarea rows="4" cols="50" class="inputModal" name="add-event-desc" id="add-event-desc"></textarea>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="save-event">Save changes</button>
              </div>
            </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
      
        <!-- EDIT EVENT MODAL -->
      
        <div class="modal fade" tabindex="-1" role="dialog" id="editEventModal">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Edit <span class="eventName"></span></h4>
              </div>
              <div class="modal-body">
      
                <div class="row">
                  <div class="col-xs-12">
                    <label class="col-xs-4" for="title">All Day Event ?</label>
                    <input class='allDayEdit' type="checkbox"></label>
                  </div>
                </div>
      
                <div class="row">
                  <div class="col-xs-12">
                    <label class="col-xs-4" for="title">Event title</label>
                    <input class="inputModal" type="text" name="editTitle" id="editTitle" />
                  </div>
                </div>
      
                <div class="row">
                  <div class="col-xs-12">
                    <label class="col-xs-4" for="starts-at">Starts at</label>
                    <input class="inputModal" type="text" name="editStartDate" id="editStartDate" />
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-12">
                    <label class="col-xs-4" for="ends-at">Ends at</label>
                    <input class="inputModal" type="text" name="editEndDate" id="editEndDate" />
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-12">
                    <label class="col-xs-4" for="edit-event-desc">Description</label>
                    <textarea rows="4" cols="50" class="inputModal" name="edit-event-desc" id="edit-event-desc"></textarea>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" id="addUser">S'ajouter</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-danger" id="deleteEvent">Delete Event</button>
                <button type="button" class="btn btn-primary" id="updateEvent">Save changes</button>
              </div>
            </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
      
    </section>

        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCit4RJVPT9UiLQCJJPYEBkNTJCslqO4ps&libraries=places"></script>

   


    <script>
        !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','weatherwidget-io-js');
        </script>
        
        

        <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
        <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js'></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.js'></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.js'></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/locale-all.js'></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js'></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js'></script>

<script>
var newEvent;
var editEvent;
var events = [
      {
        "_id":1,
        "title":"Early Bird Boot Camp",
        "avatar":"",
        "description":"Lorem ipsum dolor sit incid idunt ut Lorem ipsum sit.",
        "start":"2022-10-12T09:00",
        "end":"2022-10-12T10:00",
        "type":"Appointment",
        "className":"colorAppointment",
        "username":"Boot Camps",
        "backgroundColor":"#f4516c",
        "textColor":"#ffffff",
        "allDay":false,
        "participants": "test"
      },
      {
        "_id":2,
        "title":"Hatha Yoga",
        "avatar":"",
        "description":"Lorem ipsum dolor sit incid idunt ut Lorem ipsum sit.",
        "start":"2022-10-12T10:00",
        "end":"2022-10-12T11:00",
        "type":"Appointment",
        "className":"colorAppointment",
        "username":"Yoga & Pilates",
        "backgroundColor":"#9816f4",
        "textColor":"#ffffff",
        "allDay":false,
        "participants": "test"
      },
      {
        "_id":3,
        "title":"Vinyasa Yoga",
        "avatar":"",
        "description":"Lorem ipsum dolor sit incid idunt ut Lorem ipsum sit.",
        "start":"2022-10-12T11:00",
        "end":"2022-10-12T12:00",
        "type":"Check-in",
        "className":"colorCheck-in",
        "username":"Yoga & Pilates",
        "backgroundColor":"#9816f4",
        "textColor":"#ffffff",
        "allDay":false,
        "participants": "test"
      },
      {
        "_id":4,
        "title":"Open Studio",
        "avatar":"",
        "description":"Lorem ipsum dolor sit incid idunt ut Lorem ipsum sit.",
        "start":"2022-10-12T12:00",
        "end":"2022-10-12T17:00",
        "type":"Checkout",
        "className":"colorCheckout",
        "username":"Drop-in - Open Studio",
        "backgroundColor":"#1756ff",
        "textColor":"#ffffff",
        "allDay":false,
        "participants": "test"
      },
      {
        "_id":5,
        "title":"Open Studio",
        "avatar":"",
        "description":"Lorem ipsum dolor sit incid idunt ut Lorem ipsum sit.",
        "start":"2022-10-11T09:00",
        "end":"2022-10-11T11:30",
        "type":"Inventory",
        "className":"colorInventory",
        "username":"Drop-in - Open Studio",
        "backgroundColor":"#1756ff",
        "textColor":"#ffffff",
        "allDay":false,
        "participants": "test, test2"
      },
      {
        "_id":6,
        "title":"Open Studio",
        "avatar":"",
        "description":"Lorem ipsum dolor sit incid idunt ut Lorem ipsum sit.",
        "start":"2022-10-11T12:30",
        "end":"2022-10-11T21:00",
        "type":"Valuation",
        "className":"colorValuation",
        "username":"Drop-in - Open Studio",
        "backgroundColor":"#1756ff",
        "textColor":"#ffffff",
        "allDay":false,
        "participants": "test, test2"
      },
      {
        "_id":7,
        "title":"Lunch Express Boot Camp",
        "avatar":"",
        "description":"Lorem ipsum dolor sit incid idunt ut Lorem ipsum sit.",
        "start":"2022-10-11T11:30",
        "end":"2022-10-11T12:30",
        "type":"Viewing",
        "className":"colorViewing",
        "username":"Boot Camps",
        "backgroundColor":"#f4516c",
        "textColor":"#ffffff",
        "allDay":false,
        "participants": "test"
      }
  ];

$(document).ready(function () {
  var calendar = $("#calendar").fullCalendar({
    eventRender: function (event, element, view) {
      var startTimeEventInfo = moment(event.start).format("HH:mm");
      var endTimeEventInfo = moment(event.end).format("HH:mm");
      var displayEventDate;

      if (event.avatar.length > 1) {
        element.find(".fc-content").css("padding-left", "55px");
        element
          .find(".fc-content")
          .after(
            $('<div class="fc-avatar-image"></div>').html(
              "<img src='" + event.avatar + "' />"
            )
          );
      }

      if (event.allDay == false) {
        displayEventDate = startTimeEventInfo + " - " + endTimeEventInfo;
      } else {
        displayEventDate = "All Day";
      }

      element.popover({
        title:
          '<div class="popoverTitleCalendar" style="background-color:' +
          event.backgroundColor +
          "; color:" +
          event.textColor +
          '">' +
          event.title +
          "</div>",
        content:
          '<div class="popoverInfoCalendar">' +
          "<p><strong>Event Type:</strong> " +
          event.type +
          "</p>" +
          "<p><strong>Event Time:</strong> " +
          displayEventDate +
          "</p>" +
          "<p><strong>Participants:</strong> " +
          event.participants +
          "</p>" +
          '<div class="popoverDescCalendar"><strong>Description:</strong> ' +
          event.description +
          "</div>" +
          "</div>",
        delay: {
          show: "800",
          hide: "50"
        },
        trigger: "hover",
        placement: "top",
        html: true,
        container: "body"
      });

      if (event.username == "Boot Camps") {
        element.css("background-color", "#f4516c");
      }
      if (event.username == "Drop-in - Open Studio") {
        element.css("background-color", "#1756ff");
      }
      if (event.username == "Yoga & Pilates") {
        element.css("background-color", "#9816f4");
      }

      var show_username,
        show_type = true,
        show_calendar = true;

      var username = $("input:checkbox.filter:checked")
        .map(function () {
          return $(this).val();
        })
        .get();
      var types = $("#type_filter").val();
      var calendars = $("#calendar_filter").val();

      show_username = username.indexOf(event.username) >= 0;

      if (types && types.length > 0) {
        if (types[0] == "all") {
          show_type = true;
        } else {
          show_type = types.indexOf(event.type) >= 0;
        }
      }

      if (calendars && calendars.length > 0) {
        if (calendars[0] == "all") {
          show_calendar = true;
        } else {
          show_calendar = calendars.indexOf(event.calendar) >= 0;
        }
      }

      return show_username && show_type && show_calendar;
    },
    customButtons: {
      printButton: {
        icon: "print",
        click: function () {
          window.print();
        }
      }
    },
    header: {
      left: "today, prevYear, nextYear, printButton",
      center: "prev, title, next",
      right: "month,agendaWeek,agendaDay,listWeek"
    },
    views: {
      month: {
        columnFormat: "dddd"
      },
      agendaWeek: {
        columnFormat: "ddd D/M",
        eventLimit: false
      },
      agendaDay: {
        columnFormat: "dddd",
        eventLimit: false
      },
      listWeek: {
        columnFormat: ""
      }
    },

    loading: function (bool) {
      //alert('events are being rendered');
    },
    eventAfterAllRender: function (view) {
      if (view.name == "month") {
        $(".fc-content").css("height", "auto");
      }
    },
    eventLimitClick: function (cellInfo, event) {},
    eventResize: function (event, delta, revertFunc, jsEvent, ui, view) {
      $(".popover.fade.top").remove();
    },
    eventDragStart: function (event, jsEvent, ui, view) {
      var draggedEventIsAllDay;
      draggedEventIsAllDay = event.allDay;
    },
    eventDrop: function (event, delta, revertFunc, jsEvent, ui, view) {
      $(".popover.fade.top").remove();
    },
    unselect: function (jsEvent, view) {
      //$(".dropNewEvent").hide();
    },
    dayClick: function (startDate, jsEvent, view) {
      //var today = moment();
      //var startDate;
      //if(view.name == "month"){
      //  startDate.set({ hours: today.hours(), minute: today.minutes() });
      //  alert('Clicked on: ' + startDate.format());
      //}
    },
    select: function (startDate, endDate, jsEvent, view) {
      var today = moment();
      var startDate;
      var endDate;

      if (view.name == "month") {
        startDate.set({ hours: today.hours(), minute: today.minutes() });
        startDate = moment(startDate).format("ddd DD MMM YYYY HH:mm");
        endDate = moment(endDate).subtract("days", 1);
        endDate.set({ hours: today.hours() + 1, minute: today.minutes() });
        endDate = moment(endDate).format("ddd DD MMM YYYY HH:mm");
      } else {
        startDate = moment(startDate).format("ddd DD MMM YYYY HH:mm");
        endDate = moment(endDate).format("ddd DD MMM YYYY HH:mm");
      }

      var $contextMenu = $("#contextMenu");

      var HTMLContent =
        '<ul class="dropdown-menu dropNewEvent" role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;">' +
        "<li onclick='newEvent(\"" +
        startDate +
        '","' +
        endDate +
        '","' +
        "Appointment" +
        '")\'> <a tabindex="-1" href="#">Add Appointment</a></li>' +
        "<li onclick='newEvent(\"" +
        startDate +
        '","' +
        endDate +
        '","' +
        "Check-in" +
        '")\'> <a tabindex="-1" href="#">Add Check-In</a></li>' +
        "<li onclick='newEvent(\"" +
        startDate +
        '","' +
        endDate +
        '","' +
        "Checkout" +
        '")\'> <a tabindex="-1" href="#">Add Checkout</a></li>' +
        "<li onclick='newEvent(\"" +
        startDate +
        '","' +
        endDate +
        '","' +
        "Inventory" +
        '")\'> <a tabindex="-1" href="#">Add Inventory</a></li>' +
        "<li onclick='newEvent(\"" +
        startDate +
        '","' +
        endDate +
        '","' +
        "Valuation" +
        '")\'> <a tabindex="-1" href="#">Add Valuation</a></li>' +
        "<li onclick='newEvent(\"" +
        startDate +
        '","' +
        endDate +
        '","' +
        "Viewing" +
        '")\'> <a tabindex="-1" href="#">Add Viewing</a></li>' +
        '<li class="divider"></li>' +
        '<li><a tabindex="-1" href="#">Close</a></li>' +
        "</ul>";

      $(".fc-body").unbind("click");
      $(".fc-body").on("click", "td", function (e) {
        document.getElementById("contextMenu").innerHTML = HTMLContent;

        $contextMenu.addClass("contextOpened");
        $contextMenu.css({
          display: "block",
          left: e.pageX,
          top: e.pageY
        });
        return false;
      });

      $contextMenu.on("click", "a", function (e) {
        e.preventDefault();
        $contextMenu.removeClass("contextOpened");
        $contextMenu.hide();
      });

      $("body").on("click", function () {
        $contextMenu.hide();
        $contextMenu.removeClass("contextOpened");
      });

      //newEvent(startDate, endDate);
    },
    eventClick: function (event, jsEvent, view) {
      editEvent(event);
    },
    locale: "en-GB",
    timezone: "local",
    nextDayThreshold: "09:00:00",
    allDaySlot: true,
    displayEventTime: true,
    displayEventEnd: true,
    firstDay: 1,
    weekNumbers: false,
    selectable: true,
    weekNumberCalculation: "ISO",
    eventLimit: true,
    eventLimitClick: "week", //popover
    navLinks: true,
    defaultDate: Date.now(),
    timeFormat: "HH:mm",
    defaultTimedEventDuration: "01:00:00",
    editable: true,
    minTime: "00:00:00",
    maxTime: "24:00:00",
    slotLabelFormat: "HH:mm",
    weekends: true,
    nowIndicator: true,
    dayPopoverFormat: "dddd DD/MM",
    longPressDelay: 0,
    eventLongPressDelay: 0,
    selectLongPressDelay: 0,

    events: events
  });

  $(".filter").on("change", function () {
    $("#calendar").fullCalendar("rerenderEvents");
  });

  $("#type_filter").select2({
    placeholder: "Filter Types",
    allowClear: true
  });

  $("#calendar_filter").select2({
    placeholder: "Filter Calendars",
    allowClear: true
  });

  $("#starts-at, #ends-at").datetimepicker({
    format: "ddd DD MMM YYYY HH:mm"
  });

  //var minDate = moment().subtract(0, 'days').millisecond(0).second(0).minute(0).hour(0);

  $(" #editStartDate, #editEndDate").datetimepicker({
    format: "ddd DD MMM YYYY HH:mm"
    //minDate: minDate
  });

  //CREATE NEW EVENT CALENDAR

  newEvent = function (start, end, eventType) {
    var colorEventyType;

    if (eventType == "Appointment") {
      colorEventyType = "colorAppointment";
    } else if (eventType == "Check-in") {
      colorEventyType = "colorCheck-in";
    } else if (eventType == "Checkout") {
      colorEventyType = "colorCheckout";
    } else if (eventType == "Inventory") {
      colorEventyType = "colorInventory";
    } else if (eventType == "Valuation") {
      colorEventyType = "colorValuation";
    } else if (eventType == "Viewing") {
      colorEventyType = "colorViewing";
    }

    $("#contextMenu").hide();
    $(".eventType").text(eventType);
    $("input#title").val("");
    $("#starts-at").val(start);
    $("#ends-at").val(end);
    $("#newEventModal").modal("show");

    var statusAllDay;
    var endDay;

    $(".allDayNewEvent").on("change", function () {
      if ($(this).is(":checked")) {
        statusAllDay = true;
        var endDay = $("#ends-at").prop("disabled", true);
      } else {
        statusAllDay = false;
        var endDay = $("#ends-at").prop("disabled", false);
      }
    });

    //GENERATE RAMDON ID - JUST FOR TEST - DELETE IT
    var eventId = 1 + Math.floor(Math.random() * 1000);
    //GENERATE RAMDON ID - JUST FOR TEST - DELETE IT

    $("#save-event").unbind();
    $("#save-event").on("click", function () {
      var title = $("input#title").val();
      var startDay = $("#starts-at").val();
      if (!$(".allDayNewEvent").is(":checked")) {
        var endDay = $("#ends-at").val();
      }
      var calendar = $("#calendar-type").val();
      var description = $("#add-event-desc").val();
      var type = eventType;
      if (title) {
        var eventData = {
          _id: eventId,
          title: title,
          avatar: "",
          start: startDay,
          end: endDay,
          description: description,
          type: type,
          className: colorEventyType,
          username: "Boot Camps",
          backgroundColor: "#1756ff",
          textColor: "#ffffff",
          allDay: statusAllDay,
          participants: sessionStorage.getItem("sessionLogin")
        };
        $("#calendar").fullCalendar("renderEvent", eventData, true);
        $("#newEventModal").find("input, textarea").val("");
        $("#newEventModal").find("input:checkbox").prop("checked", false);
        $("#ends-at").prop("disabled", false);
        $("#newEventModal").modal("hide");
      } else {
        alert("Title can't be blank. Please try again.");
      }
    });
  };

  //EDIT EVENT CALENDAR

  editEvent = function (event, element, view) {
    $(".popover.fade.top").remove();
    $(element).popover("hide");

    //$(".dropdown").hide().css("visibility", "hidden");

    if (event.allDay == true) {
      $("#editEventModal").find("#editEndDate").attr("disabled", true);
      $("#editEventModal").find("#editEndDate").val("");
      $(".allDayEdit").prop("checked", true);
    } else {
      $("#editEventModal").find("#editEndDate").attr("disabled", false);
      $("#editEventModal")
        .find("#editEndDate")
        .val(event.end.format("ddd DD MMM YYYY HH:mm"));
      $(".allDayEdit").prop("checked", false);
    }

    $(".allDayEdit").on("change", function () {
      if ($(this).is(":checked")) {
        $("#editEventModal").find("#editEndDate").attr("disabled", true);
        $("#editEventModal").find("#editEndDate").val("");
        $(".allDayEdit").prop("checked", true);
      } else {
        $("#editEventModal").find("#editEndDate").attr("disabled", false);
        $(".allDayEdit").prop("checked", false);
      }
    });

    $("#editTitle").val(event.title);
    $("#editStartDate").val(event.start.format("ddd DD MMM YYYY HH:mm"));
    $("#edit-calendar-type").val(event.calendar);
    $("#edit-event-desc").val(event.description);
    $(".eventName").text(event.title);
    $("#editEventModal").modal("show");
    $("#updateEvent").unbind();
    $("#updateEvent").on("click", function () {
      var statusAllDay;
      if ($(".allDayEdit").is(":checked")) {
        statusAllDay = true;
      } else {
        statusAllDay = false;
      }
      var title = $("input#editTitle").val();
      var startDate = $("input#editStartDate").val();
      var endDate = $("input#editEndDate").val();
      var description = $("#edit-event-desc").val();
      $("#editEventModal").modal("hide");
      var eventData;
      if (title) {
        event.title = title;
        event.start = startDate;
        event.end = endDate;
        event.description = description;
        event.allDay = statusAllDay;
        $("#calendar").fullCalendar("updateEvent", event);
      } else {
        alert("Title can't be blank. Please try again.");
      }
    });

    $("#addUser").on("click", function () {
      try {
        event.participants = event.participants + ', ' + sessionStorage.getItem("sessionLogin");
        $("#calendar").fullCalendar("updateEvent", event);
        $("#editEventModal").modal("hide");
      } catch (error) {
        alert('Une erreur s\'est produite. Vous n\'avez pas pu vous ajouter à l\'évènement');
      }
    });

    $("#deleteEvent").on("click", function () {
      $("#deleteEvent").unbind();
      if (event._id.includes("_fc")) {
        $("#calendar").fullCalendar("removeEvents", [event._id]);
      } else {
        $("#calendar").fullCalendar("removeEvents", [event._id]);
      }
      $("#editEventModal").modal("hide");
    });
  };

  //SET DEFAULT VIEW CALENDAR

  var defaultCalendarView = $("#calendar_view").val();

  if (defaultCalendarView == "month") {
    $("#calendar").fullCalendar("changeView", "month");
  } else if (defaultCalendarView == "agendaWeek") {
    $("#calendar").fullCalendar("changeView", "agendaWeek");
  } else if (defaultCalendarView == "agendaDay") {
    $("#calendar").fullCalendar("changeView", "agendaDay");
  } else if (defaultCalendarView == "listWeek") {
    $("#calendar").fullCalendar("changeView", "listWeek");
  }

  $("#calendar_view").on("change", function () {
    var defaultCalendarView = $("#calendar_view").val();
    $("#calendar").fullCalendar("changeView", defaultCalendarView);
  });

  //SET MIN TIME AGENDA

  $("#calendar_start_time").on("change", function () {
    var minTimeAgendaView = $(this).val();
    $("#calendar").fullCalendar("option", { minTime: minTimeAgendaView });
  });

  //SET MAX TIME AGENDA

  $("#calendar_end_time").on("change", function () {
    var maxTimeAgendaView = $(this).val();
    $("#calendar").fullCalendar("option", { maxTime: maxTimeAgendaView });
  });

  //SHOW - HIDE WEEKENDS

  var activeInactiveWeekends = false;
  checkCalendarWeekends();

  $(".showHideWeekend").on("change", function () {
    checkCalendarWeekends();
  });

  function checkCalendarWeekends() {
    if ($(".showHideWeekend").is(":checked")) {
      activeInactiveWeekends = true;
      $("#calendar").fullCalendar("option", {
        weekends: activeInactiveWeekends
      });
    } else {
      activeInactiveWeekends = false;
      $("#calendar").fullCalendar("option", {
        weekends: activeInactiveWeekends
      });
    }
  }

  //CREATE NEW CALENDAR AND APPEND

  $("#addCustomCalendar").on("click", function () {
    var newCalendarName = $("#inputCustomCalendar").val();
    $("#calendar_filter, #calendar-type, #edit-calendar-type").append(
      $("<option>", {
        value: newCalendarName,
        text: newCalendarName
      })
    );
    $("#inputCustomCalendar").val("");
  });

  //WEATHER GRAMATICALLY

  function retira_acentos(str) {
    var com_acento =
      "ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝRÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿr";
    var sem_acento =
      "AAAAAAACEEEEIIIIDNOOOOOOUUUUYRsBaaaaaaaceeeeiiiionoooooouuuuybyr";
    var novastr = "";
    for (i = 0; i < str.length; i++) {
      troca = false;
      for (a = 0; a < com_acento.length; a++) {
        if (str.substr(i, 1) == com_acento.substr(a, 1)) {
          novastr += sem_acento.substr(a, 1);
          troca = true;
          break;
        }
      }
      if (troca == false) {
        novastr += str.substr(i, 1);
      }
    }
    return novastr.toLowerCase().replace(/\s/g, "-");
  }

  //WEATHER THEMES

  document
    .getElementById("switchWeatherTheme")
    .addEventListener("change", function () {
      var valueTheme = $(this).val();
      var widget = document.querySelector(".weatherwidget-io");
      widget.setAttribute("data-theme", valueTheme);
      __weatherwidget_init();
    });

  //WEATHER LOCATION
  var input = document.getElementById("searchTextField");
  var autocomplete = new google.maps.places.Autocomplete(input);

  google.maps.event.addListener(autocomplete, "place_changed", function () {
    var place = autocomplete.getPlace();
    var latitude = place.geometry.location.lat();
    var longitude = place.geometry.location.lng();
    var newPlace = retira_acentos(place.name);

    var urlDataWeather =
      "https://forecast7.com/en/" +
      latitude.toFixed(2).replace(/\./g, "d").replace(/\-/g, "n") +
      longitude.toFixed(2).replace(/\./g, "d").replace(/\-/g, "n") +
      "/" +
      newPlace +
      "/";

    alert(urlDataWeather);

    var weatherWidget = document.querySelector(".weatherwidget-io");
    weatherWidget.href = urlDataWeather;
    weatherWidget.dataset.label_1 = place.name;
    __weatherwidget_init();

    //document.getElementById('city2').value = place.name;
    //document.getElementById('cityLat').value = place.geometry.location.lat();
    //document.getElementById('cityLng').value = place.geometry.location.lng();
    //alert("This function is working!");
    //alert(place.name);
    // alert(place.address_components[0].long_name);
  });
});



</script>



</body>
</html>
